{% extends 'users/base_mypage.html' %}
{% block mypage_content %}

<div class="like-products-container">
    <h1>MY HEART</h1>
    <hr>
    {% if like_products %}
        <div class="likecard-container">
            {% for like in like_products %}
            <div class="likecard">
                <a href="{% url 'shop:product_detail' like.product.id %}">
                    {% if like.product.head_image %}
                        <img src="{{ like.product.head_image.url }}" alt="{{ like.product.name }}">
                    {% else %}
                        <div class="no-image">이미지 없음</div>
                    {% endif %}
                    <div class="likecard-title">{{ like.product.name }}</div>
                </a>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p>좋아요한 상품이 없습니다.</p>
    {% endif %}
</div>

<style>
    .like-products-container {
        margin: 20px auto;
        padding: 20px;
        max-width: 1200px;
    }

    .likecard-container {
        display: flex;
        flex-wrap: wrap;
        gap: 15px; /* 카드 간격 */
    }

    .likecard {
        flex: 1 1 calc(20% - 15px); /* 5개씩 배치, 간격 포함 */
        max-width: calc(20% - 15px); /* 5개씩 배치 */
        overflow: hidden;
        background-color: #fff;
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    }

    .likecard img {
        width: 100%;
        height: auto;
        aspect-ratio: 1 / 1; /* 정사각형 비율 유지 */
        object-fit: cover; /* 이미지가 카드 크기에 맞게 조정 */
    }

    .no-image {
        width: 100%;
        height: 0;
        padding-bottom: 100%; /* 정사각형 유지 */
        background-color: #f0f0f0;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #aaa;
        font-size: 14px;
    }

    .likecard-title {
        padding: 10px;
        font-size: 13px;
        color: #333;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    a {
        text-decoration: none;
        color: inherit;
    }
</style>


{% endblock mypage_content %}